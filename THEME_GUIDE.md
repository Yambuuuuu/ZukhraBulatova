# Руководство по темной теме

## Что было реализовано

Система переключения тем реализована с использованием CSS переменных и Pinia store. **По умолчанию используется темная тема**, светлая тема включается по желанию. Выбранная тема автоматически сохраняется в localStorage и применяется при следующем посещении сайта.

## Файлы

### 1. `stores/theme.js`
Pinia store для управления темой:
- `isDark` - текущее состояние темы (true/false)
- `initTheme()` - инициализация темы из localStorage или системных настроек
- `toggleTheme()` - переключение темы
- `setTheme(dark)` - установка конкретной темы

### 2. `components/UI/ThemeToggle.vue`
Компонент кнопки переключения темы с иконками солнца и луны.

### 3. `styles/variables.styl`
CSS переменные для темной и светлой темы:
- Темная тема (по умолчанию): темные фоны с светлым текстом
- Светлая тема: бежевые и коричневые тона

### 4. `app.vue`
Инициализация темы при загрузке приложения.

### 5. `components/UI/Header.vue`
Добавлена кнопка переключения темы в навигацию.

## Как использовать

### В компонентах

```vue
<script setup>
import { useThemeStore } from '~/stores/theme'
import { storeToRefs } from 'pinia'

const themeStore = useThemeStore()
const { isDark } = storeToRefs(themeStore)

// Переключить тему
const toggle = () => {
  themeStore.toggleTheme()
}

// Установить конкретную тему
const setDark = () => {
  themeStore.setTheme(true)
}
</script>
```

### В стилях

Используйте CSS переменные для автоматического переключения цветов:

```stylus
.my-component
  background-color var(--background)
  color var(--text-primary)
  border-color var(--light-brown)
```

## Доступные CSS переменные

### Темная тема (по умолчанию)
- `--main`: #1a1a1a (основной фон)
- `--brown`: #e8d4b8 (основной светлый)
- `--light-brown`: #c4b5a5 (светло-коричневый)
- `--text-primary`: #e8d4b8 (основной текст)
- `--text-secondary`: #c4b5a5 (вторичный текст)
- `--background`: #1a1a1a (фон)
- `--background-secondary`: #2a2a2a (вторичный фон)

### Светлая тема
- `--main`: #F9F5E9 (основной фон)
- `--brown`: #543310 (основной коричневый)
- `--light-brown`: #AC9C8C (светло-коричневый)
- `--text-primary`: #543310 (основной текст)
- `--text-secondary`: #AC9C8C (вторичный текст)
- `--background`: #F9F5E9 (фон)
- `--background-secondary`: #ffffff (вторичный фон)

## Настройка цветов

Чтобы изменить цвета темной темы (по умолчанию), отредактируйте файл `styles/variables.styl`:

```stylus
:root {
  --main: #ваш-цвет
  --brown: #ваш-цвет
  // и т.д.
}
```

Для изменения светлой темы:

```stylus
.light-theme {
  --main: #ваш-цвет
  --brown: #ваш-цвет
  // и т.д.
}
```

## Особенности

1. **Темная тема по умолчанию**: Сайт загружается с темной темой
2. **Автоматическое сохранение**: Выбранная тема сохраняется в localStorage
3. **Системные настройки**: При первом посещении используется системная тема (если не темная)
4. **Плавные переходы**: Переключение между темами происходит плавно (0.3s)
5. **SSR совместимость**: Код работает корректно с server-side rendering

## Рекомендации

При создании новых компонентов используйте CSS переменные вместо жестко заданных цветов:

❌ **Плохо:**
```stylus
.component
  background-color #F9F5E9
  color #543310
```

✅ **Хорошо:**
```stylus
.component
  background-color var(--background)
  color var(--text-primary)
```

Это обеспечит автоматическое переключение цветов при смене темы.
